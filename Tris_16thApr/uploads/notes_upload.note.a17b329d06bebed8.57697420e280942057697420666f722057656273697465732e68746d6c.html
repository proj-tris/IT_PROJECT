
<!-- saved from url=(0036)https://wit.ai/docs/wit-for-websites -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Wit — Wit for Websites</title>
    <meta charset="utf-8">
    <script async="" src="./Wit — Wit for Websites_files/analytics.js"></script><script src="./Wit — Wit for Websites_files/jquery.min.js"></script>

    <link href="https://wit.ai/docs/css/pygments.css" rel="stylesheet">
    <link href="https://wit.ai/docs/css/style.css" rel="stylesheet">

    <!-- Flatdoc -->
    <script src="./Wit — Wit for Websites_files/legacy.js"></script>
    <script src="./Wit — Wit for Websites_files/flatdoc.js"></script>
    <script src="./Wit — Wit for Websites_files/script.js"></script>

    <script src="./Wit — Wit for Websites_files/bootstrap-scrollspy.js"></script>
    <script src="./Wit — Wit for Websites_files/docs.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-41485789-1', 'wit.ai');
      ga('send', 'pageview');

    </script>
  </head>
  <body role="flatdoc" class="no-literate">
    <div class="header">
      <div class="left">
        <h1>
          <a id="go-to-wit" href="https://wit.ai/">Wit</a>
        </h1>
      </div>
      <div class="right">
        <ul>
        
          <li>
            <a href="https://wit.ai/docs/intro">Introduction to Wit</a>
          </li>
        
          <li>
            <a href="https://wit.ai/docs/api">HTTP API</a>
          </li>
        
          <li>
            <a href="./Wit — Wit for Websites_files/Wit — Wit for Websites.html">Wit for Websites</a>
          </li>
        
          <li>
            <a href="https://wit.ai/docs/ios-tutorial">iOS Tutorial</a>
          </li>
        
          <li>
            <a href="https://wit.ai/docs/android-tutorial">Android Tutorial</a>
          </li>
        
          <li>
            <a href="https://wit.ai/docs/nodejs-tutorial">Node.js Tutorial</a>
          </li>
        
          <li>
            <a href="https://wit.ai/docs/community">Community</a>
          </li>
        
        </ul>
      </div>
    </div>

    <div class="content-root">
      <div class="menubar">
        <h1 id="post-title">Wit for Websites</h1>
        <hr>
        <div class="menu section nav" role="flatdoc-menu"><ul><li id="root-item" class="level-0"><ul class="level-1" id="root-list"><li id="toc_0-item" class="level-1"><a id="toc_0-link" href="https://wit.ai/docs/wit-for-websites#toc_0" class="level-1">Getting started with Wit for Websites</a><ul class="level-2" id="toc_0-list"><li id="toc_1-item" class="level-2"><a id="toc_1-link" href="https://wit.ai/docs/wit-for-websites#toc_1" class="level-2 active">Microphone</a></li></ul></li></ul></li></ul></div>
      </div>
      <div role="flatdoc-content" class="content ">
        <h1 id="toc_0">Getting started with Wit for Websites</h1>

<p>This guide will show you how to add a voice interface to your web app. It assumes you already have trained your Wit instance.</p>

<h2 id="toc_1">Microphone</h2>

<p>Microphone is a simple button that lets you speech-enable your web app. Users press the microphone button, speak, and your app receives Wit's JSON output with the user intent and relevant entities.<br></p>

<p>Note: Microphone relies on WebRTC, which works on Chrome, Firefox and Opera right now. Safari and IE don't support WebRTC yet. Please refer to <a href="http://caniuse.com/#search=webrtc">this link</a> for up-to-date information.<br></p>

<p>Steps:</p>

<ol>
<li>In your <a href="https://console.wit.ai/#/settings">Settings</a>, generate a client access token and authorize the domain(s) you'll be serving the page from (<code>localhost</code> and <code>127.0.0.0</code> are automatically authorized)</li>
<li>Download <a href="https://github.com/wit-ai/wit-widgets/releases/latest">Microphone</a> and extract <code>microphone.css</code> and <code>microphone.js</code></li>
<li>Add the HTML snippet below to your page. Don't forget to replace <code>"INSERT YOUR CLIENT TOKEN"</code> with your client access token and verify the path to the CSS and JS files.</li>
<li>Use a webserver (a simple <code>python -m SimpleHttpServer</code> in the directory is enough) to serve your page — <strong>URL must start with http:// or https:// and not file://</strong></li>
<li>Load the page in Chrome, Firefox or Opera. You'll have to authorize the browser to access your microphone. For Chrome to remember your choice, the page needs to be on https <a href="https://support.google.com/chrome/answer/2693767?hl=en">more</a>.</li>
</ol>
<div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"microphone.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body</span> <span class="na">style=</span><span class="s">"text-align: center;"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"microphone"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;pre</span> <span class="na">id=</span><span class="s">"result"</span><span class="nt">&gt;&lt;/pre&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"info"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"microphone.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

  <span class="nt">&lt;script&gt;</span>
    <span class="kd">var</span> <span class="nx">mic</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wit</span><span class="p">.</span><span class="nx">Microphone</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"microphone"</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">info</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"info"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="nx">mic</span><span class="p">.</span><span class="nx">onready</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">info</span><span class="p">(</span><span class="s2">"Microphone is ready to record"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="nx">mic</span><span class="p">.</span><span class="nx">onaudiostart</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">info</span><span class="p">(</span><span class="s2">"Recording started"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="nx">mic</span><span class="p">.</span><span class="nx">onaudioend</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">info</span><span class="p">(</span><span class="s2">"Recording stopped, processing started"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="nx">mic</span><span class="p">.</span><span class="nx">onerror</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">info</span><span class="p">(</span><span class="s2">"Error: "</span> <span class="o">+</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="nx">mic</span><span class="p">.</span><span class="nx">onresult</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">intent</span><span class="p">,</span> <span class="nx">entities</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">kv</span><span class="p">(</span><span class="s2">"intent"</span><span class="p">,</span> <span class="nx">intent</span><span class="p">);</span>

      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">entities</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">))</span> <span class="p">{</span>
          <span class="nx">r</span> <span class="o">+=</span> <span class="nx">kv</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">r</span> <span class="o">+=</span> <span class="nx">kv</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"result"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="nx">mic</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s2">"INSERT YOUR CLIENT TOKEN"</span><span class="p">);</span>
    <span class="c1">// mic.start();</span>
    <span class="c1">// mic.stop();</span>

    <span class="kd">function</span> <span class="nx">kv</span> <span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="o">!==</span> <span class="s2">"[object String]"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">v</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">k</span> <span class="o">+</span> <span class="s2">"="</span> <span class="o">+</span> <span class="nx">v</span> <span class="o">+</span> <span class="s2">"\n"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
      </div>
    </div>
  

</body></html>